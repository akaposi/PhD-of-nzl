\chapter{the Setoid Model}
% always forgets the "the"


\todo{Before 30th-Dec-2013}


We first work on Altenkirch's Setoid model. We build a category
with families of setoids to accommodate the types theory described in
\cite{alti:lics99}  so that it is possible to define quotient types
following Martin Hofmann's Paper\cite{hof:95:sm}.  In this report we
only present the
necessary part for the Setoid model.



Quotient types are one of the extensional concepts in Type Theory \cite{hof:phd}. To introduce an extensional propositional equality in \itt{}, 
Altenkirch \cite{alti:lics99} proposes an intensional setoid model with a proof-irrelevant universe of
propositions \textbf{Prop} . It is called a setoid model since types are interpreted as setoids which contain a set and an equivalence relation for each of them.
The solution to introduce the extensional equality is an object type theory defined inside the setoid model which serves as the metatheory. He also proved that the extended type theory generated from the metatheory is decidable and adequate, functional extensionality is
inhabited and it permits large elimination (defining a dependent type by recursion). Within this type theory,
introduction of quotient types is straightforward.

This model is different to a setoid model as an E-category, for instance
the one introduced by Hofmann \cite{hofmann1995interpretation} . An E-category is a category equipped with
an equivalence relation for homsets. To distinguish them, we call this
category \textbf{E-setoids}.  All morphisms of \textbf{E-setoids}
gives rise to types and they are cartesian closed, namely it is a a locally
cartesian closed category (LCCC). Not all morphisms in our category of setoids give
rise to types and it is not an LCCC. Every LCCC can serve as a model for categories with
families but not every category with families has to be an
LCCC. 

However this Setoid model is still a model for Type
Theory just like the groupoid model which is a generalisation of it.
To develop this model of type theory in Agda, we have implemented the categories with families of setoids.


\section{Literature review}




\subsection{An implementation of categories with Families in Agda}

Following the work in \cite{alt:99}, we first define a
proof-irrelevant universe of propositions. We name it as \textbf{hProp}
since \textbf{Prop} is a  reserved word which can't be used and
\textbf{hProp} is a notion from Homotopy Type Theory which we will introduce later.

\subsection{hProp}
\input{./CwF/latex/hProp.tex}

\subsection{Category}

To define category of setoids we should define category first.

\input{./CwF/Cats/latex/Category.tex}

$isCategory$ contains all the laws for this structure to be a category, for instance the
associativity laws for composition.

\subsection{Category of setoids}


\input{./CwF/latex/CategoryOfSetoid.tex}


\subsection{categories with families of setoids}


A Category with families consists of a base category and a functor
\cite{clairambault2005categories}. We firstly define the categories with
families of sets in Agda  as a guidance for the one for setoids. We
would present the setoid one here since it is relevant.

\input{./CwF/latex/CwF-setoid.tex}

\subsection{Examples of types}

\input{./CwF/latex/CwF-ctd.tex}

\input{./CwF/latex/CwF-quotient.tex}


\subsection{Observational equality}

%definitional distinct types

Later in in \cite{alti:ott-conf}, Altenkirch and McBride further
simplifies the setoid model by adopting McBride's heterogeneous
approach to equality. They identifies values up to observation rather than
  construction which is called observational equality. It is the
  propositional equality induced by the Setoid model.  In general we have a heterogeneous equality which
  compares terms of types which are different in construction. It only
  make sense when we can prove the types are the same. It helps us
  avoids the heavy use of $subst$ which makes formalisation and
  reasoning involved. We could simplify the setoid model by adapting this
  approach and the implementation could be easier.



\section{What we could do in this model}

\section{Quotient types in setoid model}

\todo{With Prop universe, how can we define quotient types?}