
\AgdaHide{

\begin{code}\>\<%
\\
%
\\
%
\\
\>\AgdaSymbol{\{-\#} \AgdaKeyword{OPTIONS} --type-in-type \AgdaSymbol{\#-\}}\<%
\\
%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Level}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Relation.Binary.PropositionalEquality} \AgdaSymbol{as} \AgdaModule{PE} \AgdaKeyword{hiding} \AgdaSymbol{(}refl\AgdaSymbol{;} sym \AgdaSymbol{;} trans\AgdaSymbol{;} isEquivalence\AgdaSymbol{)}\<%
\\
%
\\
\>\AgdaKeyword{module} \AgdaModule{CategoryOfSetoid} \<[25]%
\>[25]\AgdaSymbol{(}\AgdaBound{ext} \AgdaSymbol{:} \AgdaFunction{Extensionality} \AgdaPrimitive{zero} \AgdaPrimitive{zero}\AgdaSymbol{)} \AgdaKeyword{where}\<%
\\
%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Cats.Category}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Function}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Relation.Binary.Core} \AgdaKeyword{using} \AgdaSymbol{(}\_≡\_\AgdaSymbol{)} \AgdaKeyword{renaming} \AgdaSymbol{(}\_⇒\_ \AgdaSymbol{to} \_⇒'\_\AgdaSymbol{)}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Data.Unit}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{import} \AgdaModule{Data.Empty}\<%
\\
\>\AgdaKeyword{import} \AgdaModule{hProp}\<%
\\
\>\AgdaKeyword{open} \AgdaKeyword{module} \AgdaModule{hpx} \AgdaSymbol{=} \AgdaModule{hProp} \AgdaBound{ext}\<%
\\
%
\\
%
\\
\>\AgdaComment{-- Arrow between HSetoid}\<%
\\
%
\\
\>\AgdaKeyword{infix} \AgdaNumber{5} \_⇉\_\<%
\\
%
\\
\>\AgdaComment{-- composition}\<%
\\
%
\\
\>\AgdaKeyword{infixl} \AgdaNumber{5} \_∘c\_\<%
\\
%
\\
\>\<\end{code}
}

Then we could define setoids using \textbf{hProp}. An equivalence relation has three properties reflexivity, symmetry and transitivity. Since we have $refl$ here, we call the reflexivity for propositional equality from the library with prefix as $PE.refl$. 

\begin{code}\>\<%
\\
%
\\
\>\AgdaKeyword{record} \AgdaRecord{ishEquivalence} \AgdaSymbol{\{}\AgdaBound{A} \AgdaSymbol{:} \AgdaPrimitiveType{Set}\AgdaSymbol{\}(}\AgdaBound{\_≈h\_} \AgdaSymbol{:} \AgdaBound{A} \AgdaSymbol{→} \AgdaBound{A} \AgdaSymbol{→} \AgdaRecord{hProp}\AgdaSymbol{)} \AgdaSymbol{:} \AgdaPrimitiveType{Set₁} \AgdaKeyword{where}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{constructor} \AgdaInductiveConstructor{\_,\_,\_}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{field}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaField{refl} \<[12]%
\>[12]\AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{x} \AgdaSymbol{:} \AgdaBound{A}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaFunction{<} \AgdaBound{x} \AgdaBound{≈h} \AgdaBound{x} \AgdaFunction{>}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaField{sym} \<[12]%
\>[12]\AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaBound{A}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaFunction{<} \AgdaBound{x} \AgdaBound{≈h} \AgdaBound{y} \AgdaFunction{>} \AgdaSymbol{→} \AgdaFunction{<} \AgdaBound{y} \AgdaBound{≈h} \AgdaBound{x} \AgdaFunction{>}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaField{trans} \<[12]%
\>[12]\AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{x} \AgdaBound{y} \AgdaBound{z} \AgdaSymbol{:} \AgdaBound{A}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaFunction{<} \AgdaBound{x} \AgdaBound{≈h} \AgdaBound{y} \AgdaFunction{>} \AgdaSymbol{→} \AgdaFunction{<} \AgdaBound{y} \AgdaBound{≈h} \AgdaBound{z} \AgdaFunction{>} \AgdaSymbol{→} \AgdaFunction{<} \AgdaBound{x} \AgdaBound{≈h} \AgdaBound{z} \AgdaFunction{>}\<%
\\
%
\\
\>\<\end{code}

Here we use \textbf{hSetoid} as the name because \textbf{Setoid} is
already used for non-proof-irrelvant setoids in the library.
For each setoid, we have a carrier type and an equivalence relation.

\begin{code}\>\<%
\\
\>\AgdaKeyword{record} \AgdaRecord{hSetoid} \AgdaSymbol{:} \AgdaPrimitiveType{Set₁} \AgdaKeyword{where}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{constructor} \AgdaInductiveConstructor{\_,\_,\_}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{infix} \AgdaNumber{4} \_≈h\_ \_≈\_\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{field}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaField{Carrier} \AgdaSymbol{:} \AgdaPrimitiveType{Set}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaField{\_≈h\_} \<[12]%
\>[12]\AgdaSymbol{:} \AgdaBound{Carrier} \AgdaSymbol{→} \AgdaBound{Carrier} \AgdaSymbol{→} \AgdaRecord{hProp}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaField{isEquiv} \AgdaSymbol{:} \AgdaRecord{ishEquivalence} \AgdaBound{\_≈h\_}\<%
\\
%
\\
%
\\
\>\<\end{code}

\AgdaHide{
\begin{code}\>\<%
\\
%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{open} \<[8]%
\>[8]\AgdaModule{ishEquivalence} \AgdaFunction{isEquiv} \AgdaKeyword{public}\<%
\\
%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{\_≈\_} \AgdaSymbol{:} \AgdaFunction{Carrier} \AgdaSymbol{→} \AgdaFunction{Carrier} \AgdaSymbol{→} \AgdaPrimitiveType{Set}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaBound{a} \AgdaFunction{≈} \AgdaBound{b} \AgdaSymbol{=} \AgdaFunction{<} \AgdaBound{a} \AgdaFunction{≈h} \AgdaBound{b} \AgdaFunction{>}\<%
\\
\>[0]\AgdaIndent{1}{}\<[1]%
\>[1]\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{PI} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{Carrier}\AgdaSymbol{\}\{}\AgdaBound{B} \AgdaSymbol{:} \AgdaPrimitiveType{Set}\AgdaSymbol{\}}\<%
\\
\>[2]\AgdaIndent{7}{}\<[7]%
\>[7]\AgdaSymbol{(}\AgdaBound{A} \AgdaSymbol{:} \AgdaBound{x} \AgdaFunction{≈} \AgdaBound{y} \AgdaSymbol{→} \AgdaBound{B}\AgdaSymbol{)\{}\AgdaBound{p} \AgdaBound{q} \AgdaSymbol{:} \AgdaBound{x} \AgdaFunction{≈} \AgdaBound{y}\AgdaSymbol{\}} \<[36]%
\>[36]\<%
\\
\>[0]\AgdaIndent{5}{}\<[5]%
\>[5]\AgdaSymbol{→} \AgdaBound{A} \AgdaBound{p} \AgdaDatatype{≡} \AgdaBound{A} \AgdaBound{q}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{PI} \AgdaSymbol{\{}\AgdaBound{x}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{y}\AgdaSymbol{\}} \AgdaBound{A} \AgdaSymbol{\{}\AgdaBound{p}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{q}\AgdaSymbol{\}} \AgdaKeyword{with} \AgdaFunction{Uni} \AgdaSymbol{(}\AgdaBound{x} \AgdaFunction{≈h} \AgdaBound{y}\AgdaSymbol{)} \AgdaSymbol{\{}\AgdaBound{p}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{q}\AgdaSymbol{\}}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{PI} \AgdaBound{A} \AgdaSymbol{|} \AgdaInductiveConstructor{PE.refl} \AgdaSymbol{=} \AgdaInductiveConstructor{PE.refl}\<%
\\
%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{reflexive} \AgdaSymbol{:} \AgdaDatatype{\_≡\_} \AgdaFunction{⇒'} \AgdaFunction{\_≈\_}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaFunction{reflexive} \AgdaInductiveConstructor{PE.refl} \AgdaSymbol{=} \AgdaFunction{refl}\<%
\\
%
\\
\>\AgdaKeyword{open} \AgdaModule{hSetoid} \AgdaKeyword{public} \AgdaKeyword{renaming} \AgdaSymbol{(}refl \AgdaSymbol{to} [\_]refl\AgdaSymbol{;}
     sym \AgdaSymbol{to} [\_]sym\AgdaSymbol{;} \_≈\_ \AgdaSymbol{to} [\_]\_≈\_ \AgdaSymbol{;} \_≈h\_ \AgdaSymbol{to} [\_]\_≈h\_ \AgdaSymbol{;}
     Carrier \AgdaSymbol{to} ∣\_∣ \AgdaSymbol{;} trans \AgdaSymbol{to} [\_]trans\AgdaSymbol{)}\<%
\\
%
\\
%
\\
\>\AgdaFunction{[\_]uip} \AgdaSymbol{:} \AgdaSymbol{∀(}\AgdaBound{Γ} \AgdaSymbol{:} \AgdaRecord{hSetoid}\AgdaSymbol{)\{}\AgdaBound{a} \AgdaBound{b} \AgdaSymbol{:} \AgdaFunction{∣} \AgdaBound{Γ} \AgdaFunction{∣}\AgdaSymbol{\}\{}\AgdaBound{p} \AgdaBound{q} \AgdaSymbol{:} \AgdaFunction{[} \AgdaBound{Γ} \AgdaFunction{]} \AgdaBound{a} \AgdaFunction{≈} \AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaBound{p} \AgdaDatatype{≡} \AgdaBound{q}\<%
\\
\>\AgdaFunction{[} \AgdaBound{Γ} \AgdaFunction{]uip} \AgdaSymbol{\{}\AgdaBound{a}\AgdaSymbol{\}} \AgdaSymbol{\{}\AgdaBound{b}\AgdaSymbol{\}} \AgdaSymbol{=} \AgdaFunction{Uni} \AgdaSymbol{(}\AgdaFunction{[} \AgdaBound{Γ} \AgdaFunction{]} \AgdaBound{a} \AgdaFunction{≈h} \AgdaBound{b}\AgdaSymbol{)}\<%
\\
%
\\
%
\\
\>\<\end{code}
}

A morphism in this category is a function of the underlying sets which respects the equivalence relation. We don't identify the extensional equal functions in the homsets as in \textbf{E-setoids}.

\begin{code}\>\<%
\\
%
\\
\>\AgdaKeyword{record} \AgdaRecord{\_⇉\_} \AgdaSymbol{(}\AgdaBound{A} \AgdaBound{B} \AgdaSymbol{:} \AgdaRecord{hSetoid}\AgdaSymbol{)} \AgdaSymbol{:} \AgdaPrimitiveType{Set₁} \AgdaKeyword{where}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{constructor} \AgdaInductiveConstructor{fn:\_resp:\_}\<%
\\
\>[0]\AgdaIndent{2}{}\<[2]%
\>[2]\AgdaKeyword{field}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaField{fn} \<[9]%
\>[9]\AgdaSymbol{:} \AgdaFunction{∣} \AgdaBound{A} \AgdaFunction{∣} \AgdaSymbol{→} \AgdaFunction{∣} \AgdaBound{B} \AgdaFunction{∣}\<%
\\
\>[2]\AgdaIndent{4}{}\<[4]%
\>[4]\AgdaField{resp} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{x} \AgdaBound{y} \AgdaSymbol{:} \AgdaFunction{∣} \AgdaBound{A} \AgdaFunction{∣}\AgdaSymbol{\}} \AgdaSymbol{→} \<[27]%
\>[27]\<%
\\
\>[4]\AgdaIndent{11}{}\<[11]%
\>[11]\AgdaFunction{[} \AgdaBound{A} \AgdaFunction{]} \AgdaBound{x} \AgdaFunction{≈} \AgdaBound{y} \AgdaSymbol{→} \<[25]%
\>[25]\<%
\\
\>[4]\AgdaIndent{11}{}\<[11]%
\>[11]\AgdaFunction{[} \AgdaBound{B} \AgdaFunction{]} \AgdaBound{fn} \AgdaBound{x} \AgdaFunction{≈} \AgdaBound{fn} \AgdaBound{y}\<%
\\
%
\\
\>\<\end{code}

\AgdaHide{
\begin{code}\>\<%
\\
%
\\
\>\AgdaKeyword{open} \AgdaModule{\_⇉\_} \AgdaKeyword{public} \AgdaKeyword{renaming} \AgdaSymbol{(}fn \AgdaSymbol{to} [\_]fn \AgdaSymbol{;} resp \AgdaSymbol{to} [\_]resp\AgdaSymbol{)}\<%
\\
%
\\
\>\<\end{code}
}


The definitions of identity morphism and composition are straightforward and the categorical laws hold trivially as follows.

\begin{code}\>\<%
\\
%
\\
\>\AgdaFunction{id'} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{Γ} \AgdaSymbol{:} \AgdaRecord{hSetoid}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaBound{Γ} \AgdaRecord{⇉} \AgdaBound{Γ} \<[28]%
\>[28]\<%
\\
\>\AgdaFunction{id'} \AgdaSymbol{=} \AgdaKeyword{record} \AgdaSymbol{\{} \AgdaField{fn} \AgdaSymbol{=} \AgdaFunction{id}\AgdaSymbol{;} \AgdaField{resp} \AgdaSymbol{=} \AgdaFunction{id}\AgdaSymbol{\}}\<%
\\
%
\\
\>\AgdaFunction{\_∘c\_} \AgdaSymbol{:} \AgdaSymbol{∀\{}\AgdaBound{Γ} \AgdaBound{Δ} \AgdaBound{Z}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaBound{Δ} \AgdaRecord{⇉} \AgdaBound{Z} \AgdaSymbol{→} \AgdaBound{Γ} \AgdaRecord{⇉} \AgdaBound{Δ} \AgdaSymbol{→} \AgdaBound{Γ} \AgdaRecord{⇉} \AgdaBound{Z}\<%
\\
\>\AgdaBound{yz} \AgdaFunction{∘c} \AgdaBound{xy} \AgdaSymbol{=} \AgdaKeyword{record} \<[18]%
\>[18]\<%
\\
\>[4]\AgdaIndent{11}{}\<[11]%
\>[11]\AgdaSymbol{\{} \AgdaField{fn} \AgdaSymbol{=} \AgdaFunction{[} \AgdaBound{yz} \AgdaFunction{]fn} \AgdaFunction{∘} \AgdaFunction{[} \AgdaBound{xy} \AgdaFunction{]fn}\<%
\\
\>[4]\AgdaIndent{11}{}\<[11]%
\>[11]\AgdaSymbol{;} \AgdaField{resp} \AgdaSymbol{=} \AgdaFunction{[} \AgdaBound{yz} \AgdaFunction{]resp} \AgdaFunction{∘} \AgdaFunction{[} \AgdaBound{xy} \AgdaFunction{]resp}\<%
\\
\>[4]\AgdaIndent{11}{}\<[11]%
\>[11]\AgdaSymbol{\}}\<%
\\
%
\\
\>\AgdaFunction{id₁} \AgdaSymbol{:} \AgdaSymbol{∀} \AgdaBound{Γ} \AgdaBound{Δ} \AgdaSymbol{(}\AgdaBound{ch} \AgdaSymbol{:} \AgdaBound{Γ} \AgdaRecord{⇉} \AgdaBound{Δ}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaBound{ch} \AgdaFunction{∘c} \AgdaFunction{id'} \AgdaDatatype{≡} \AgdaBound{ch}\<%
\\
\>\AgdaFunction{id₁} \AgdaSymbol{\_} \AgdaSymbol{\_} \AgdaBound{ch} \AgdaSymbol{=} \AgdaInductiveConstructor{PE.refl}\<%
\\
%
\\
\>\AgdaFunction{id₂} \AgdaSymbol{:} \AgdaSymbol{∀} \AgdaBound{Γ} \AgdaBound{Δ} \AgdaSymbol{(}\AgdaBound{ch} \AgdaSymbol{:} \AgdaBound{Γ} \AgdaRecord{⇉} \AgdaBound{Δ}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaFunction{id'} \AgdaFunction{∘c} \AgdaBound{ch} \AgdaDatatype{≡} \AgdaBound{ch}\<%
\\
\>\AgdaFunction{id₂} \AgdaSymbol{\_} \AgdaSymbol{\_} \AgdaBound{ch} \AgdaSymbol{=} \AgdaInductiveConstructor{PE.refl}\<%
\\
%
\\
\>\AgdaFunction{comp} \AgdaSymbol{:} \AgdaSymbol{∀} \AgdaBound{Γ} \AgdaSymbol{\{}\AgdaBound{Δ} \AgdaBound{Φ}\AgdaSymbol{\}} \AgdaBound{Ψ} \<[19]%
\>[19]\<%
\\
\>[-2]\AgdaIndent{9}{}\<[9]%
\>[9]\AgdaSymbol{(}\AgdaBound{f} \AgdaSymbol{:} \AgdaBound{Γ} \AgdaRecord{⇉} \AgdaBound{Δ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaIndent{9}{}\<[9]%
\>[9]\AgdaSymbol{(}\AgdaBound{g} \AgdaSymbol{:} \AgdaBound{Δ} \AgdaRecord{⇉} \AgdaBound{Φ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaIndent{9}{}\<[9]%
\>[9]\AgdaSymbol{(}\AgdaBound{h} \AgdaSymbol{:} \AgdaBound{Φ} \AgdaRecord{⇉} \AgdaBound{Ψ}\AgdaSymbol{)}\<%
\\
\>[0]\AgdaIndent{7}{}\<[7]%
\>[7]\AgdaSymbol{→} \AgdaBound{h} \AgdaFunction{∘c} \AgdaBound{g} \AgdaFunction{∘c} \AgdaBound{f} \AgdaDatatype{≡} \AgdaBound{h} \AgdaFunction{∘c} \AgdaSymbol{(}\AgdaBound{g} \AgdaFunction{∘c} \AgdaBound{f}\AgdaSymbol{)}\<%
\\
\>\AgdaFunction{comp} \AgdaSymbol{\_} \AgdaSymbol{\_} \AgdaBound{f} \AgdaBound{g} \AgdaBound{h} \AgdaSymbol{=} \AgdaInductiveConstructor{PE.refl}\<%
\\
%
\\
\>\<\end{code}

\AgdaHide{
\begin{code}\>\<%
\\
\>\AgdaComment{\{-
\_f≈\_ :  ∀\{Γ Δ : hSetoid\} → (f g : Γ ⇉ Δ) → hProp
\_f≈\_ \{Γ , \_≈h\_ , (refl , sym , trans)\} \{Δ , \_≈h₁\_ , (refl₁ , sym₁ , trans₁)\} (fn: fn resp: fresp) (fn: gn resp: gresp) 
  = record 
           \{ prf = (g : Γ) → < fn g ≈h₁ gn g >
           ; Uni = ext (λ g → Uni (fn g ≈h₁ gn g))
           \}
-\}}\<%
\\
%
\\
%
\\
\>\<\end{code}
}

Combined all components we obtain the category of setoids.

\begin{code}\>\<%
\\
%
\\
\>\AgdaFunction{setoid-Cat} \AgdaSymbol{:} \AgdaRecord{Category}\<%
\\
\>\AgdaFunction{setoid-Cat} \AgdaSymbol{=} \AgdaInductiveConstructor{CatC} \AgdaRecord{hSetoid} \AgdaRecord{\_⇉\_} \AgdaSymbol{(λ} \AgdaBound{\_} \AgdaSymbol{→} \AgdaFunction{id'}\AgdaSymbol{)} \AgdaSymbol{(λ} \AgdaBound{\_} \AgdaBound{\_} \AgdaSymbol{→} \AgdaFunction{\_∘c\_}\AgdaSymbol{)} \<[57]%
\>[57]\<%
\\
\>[0]\AgdaIndent{13}{}\<[13]%
\>[13]\AgdaSymbol{(}\AgdaInductiveConstructor{IsCatC} \AgdaFunction{id₁} \AgdaFunction{id₂} \AgdaFunction{comp}\AgdaSymbol{)}\<%
\\
%
\\
\>\<\end{code}

This category has a terminal object which is just the unit set with trivial equality. As a terminal object there is precisely one morphism from every object to it.

\begin{code}\>\<%
\\
%
\\
\>\AgdaFunction{⊤-setoid} \AgdaSymbol{:} \AgdaRecord{hSetoid}\<%
\\
\>\AgdaFunction{⊤-setoid} \AgdaSymbol{=} \AgdaKeyword{record} \AgdaSymbol{\{}\<%
\\
\>[0]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaField{Carrier} \AgdaSymbol{=} \AgdaRecord{⊤}\AgdaSymbol{;}\<%
\\
\>[0]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaField{\_≈h\_} \<[14]%
\>[14]\AgdaSymbol{=} \AgdaSymbol{λ} \AgdaBound{\_} \AgdaBound{\_} \AgdaSymbol{→} \AgdaFunction{⊤'}\AgdaSymbol{;}\<%
\\
\>[0]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaField{isEquiv} \AgdaSymbol{=} \AgdaKeyword{record} \AgdaSymbol{\{}\<%
\\
\>[6]\AgdaIndent{8}{}\<[8]%
\>[8]\AgdaField{refl} \<[16]%
\>[16]\AgdaSymbol{=} \AgdaInductiveConstructor{tt}\AgdaSymbol{;}\<%
\\
\>[6]\AgdaIndent{8}{}\<[8]%
\>[8]\AgdaField{sym} \<[16]%
\>[16]\AgdaSymbol{=} \AgdaSymbol{λ} \AgdaBound{\_} \AgdaSymbol{→} \AgdaInductiveConstructor{tt}\AgdaSymbol{;}\<%
\\
\>[6]\AgdaIndent{8}{}\<[8]%
\>[8]\AgdaField{trans} \<[16]%
\>[16]\AgdaSymbol{=} \AgdaSymbol{λ} \AgdaBound{\_} \AgdaBound{\_} \AgdaSymbol{→} \AgdaInductiveConstructor{tt} \AgdaSymbol{\}} \AgdaSymbol{\}}\<%
\\
%
\\
\>\AgdaFunction{⋆} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{Δ} \AgdaSymbol{:} \AgdaRecord{hSetoid}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaBound{Δ} \AgdaRecord{⇉} \AgdaFunction{⊤-setoid}\<%
\\
\>\AgdaFunction{⋆} \AgdaSymbol{=} \AgdaKeyword{record} \<[11]%
\>[11]\<%
\\
\>[0]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaSymbol{\{} \AgdaField{fn} \AgdaSymbol{=} \AgdaSymbol{λ} \AgdaBound{\_} \AgdaSymbol{→} \AgdaInductiveConstructor{tt}\<%
\\
\>[0]\AgdaIndent{6}{}\<[6]%
\>[6]\AgdaSymbol{;} \AgdaField{resp} \AgdaSymbol{=} \AgdaSymbol{λ} \AgdaBound{\_} \AgdaSymbol{→} \AgdaInductiveConstructor{tt} \AgdaSymbol{\}}\<%
\\
%
\\
\>\AgdaFunction{unique⋆} \AgdaSymbol{:} \AgdaSymbol{\{}\AgdaBound{Δ} \AgdaSymbol{:} \AgdaRecord{hSetoid}\AgdaSymbol{\}} \AgdaSymbol{→} \AgdaSymbol{(}\AgdaBound{f} \AgdaSymbol{:} \AgdaBound{Δ} \AgdaRecord{⇉} \AgdaFunction{⊤-setoid}\AgdaSymbol{)} \AgdaSymbol{→} \AgdaBound{f} \AgdaDatatype{≡} \AgdaFunction{⋆}\<%
\\
\>\AgdaFunction{unique⋆} \AgdaBound{f} \AgdaSymbol{=} \AgdaInductiveConstructor{PE.refl}\<%
\\
%
\\
\>\<\end{code}
